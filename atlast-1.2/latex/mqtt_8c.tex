\hypertarget{mqtt_8c}{}\section{mqtt.\+c File Reference}
\label{mqtt_8c}\index{mqtt.\+c@{mqtt.\+c}}
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$mosquitto.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include \char`\"{}atldef.\+h\char`\"{}}\newline
Include dependency graph for mqtt.\+c\+:
% FIG 0
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structcbMqttMessage}{cb\+Mqtt\+Message}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{mqtt_8c_a9f1a552db4819a72a9bca888f1697920}{message\+Callback} (struct mosquitto $\ast$mosq, void $\ast$obj, const struct mosquitto\+\_\+message $\ast$message)
\item 
\hyperlink{atldef_8h_ae43a4e9acd05bc65ac89474a6e1b3dd1}{prim} \hyperlink{mqtt_8c_a26922391bf46348795bbc947297072d0}{mqtt\+Get\+Payload} ()
\item 
\hyperlink{atldef_8h_ae43a4e9acd05bc65ac89474a6e1b3dd1}{prim} \hyperlink{mqtt_8c_af966a6e1a9761c42d43ff9b7920d9f99}{mqtt\+Get\+Topic} ()
\item 
\hyperlink{atldef_8h_ae43a4e9acd05bc65ac89474a6e1b3dd1}{prim} \hyperlink{mqtt_8c_a6c2541df7ac1b8aff7bc5d065ce4a4c2}{mqtt\+Init} ()
\item 
\hyperlink{atldef_8h_ae43a4e9acd05bc65ac89474a6e1b3dd1}{prim} \hyperlink{mqtt_8c_a66f96d9b14508a077b7e11a80c959e0c}{mqtt\+New} ()
\item 
\hyperlink{atldef_8h_ae43a4e9acd05bc65ac89474a6e1b3dd1}{prim} \hyperlink{mqtt_8c_ab7b1d9dea0a61f95880a572eb0192e1b}{mqtt\+Publish} ()
\item 
\hyperlink{atldef_8h_ae43a4e9acd05bc65ac89474a6e1b3dd1}{prim} \hyperlink{mqtt_8c_a3ce78da827773da9859252588ef67fdc}{mqtt\+Subscribe} ()
\item 
\hyperlink{atldef_8h_ae43a4e9acd05bc65ac89474a6e1b3dd1}{prim} \hyperlink{mqtt_8c_a675e260b04444d708c7d6673f2537bdc}{mqtt\+Client} ()
\item 
\hyperlink{atldef_8h_ae43a4e9acd05bc65ac89474a6e1b3dd1}{prim} \hyperlink{mqtt_8c_a19c30617a7bdee479dcf35c1fb80182a}{mqtt\+Loop} ()
\item 
\hyperlink{atldef_8h_ae43a4e9acd05bc65ac89474a6e1b3dd1}{prim} \hyperlink{mqtt_8c_ad2c6942c9ff092f4eca183f78439fe68}{A\+T\+H\+\_\+strtok} ()
\item 
void \hyperlink{mqtt_8c_a218421f46fb67e1d31b75d64628d2de1}{mqtt\+Load} ()
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structcbMqttMessage}{cb\+Mqtt\+Message} \hyperlink{mqtt_8c_aab453916af71011060667ca0d1d4a925}{mqtt\+Message}
\item 
static struct \hyperlink{structprimfcn}{primfcn} \hyperlink{mqtt_8c_a30719d976e1a3043cfe5e4aca1afe493}{mqtt} \mbox{[}$\,$\mbox{]}
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\mbox{\Hypertarget{mqtt_8c_ad2c6942c9ff092f4eca183f78439fe68}\label{mqtt_8c_ad2c6942c9ff092f4eca183f78439fe68}} 
\index{mqtt.\+c@{mqtt.\+c}!A\+T\+H\+\_\+strtok@{A\+T\+H\+\_\+strtok}}
\index{A\+T\+H\+\_\+strtok@{A\+T\+H\+\_\+strtok}!mqtt.\+c@{mqtt.\+c}}
\subsubsection{\texorpdfstring{A\+T\+H\+\_\+strtok()}{ATH\_strtok()}}
{\footnotesize\ttfamily \hyperlink{atldef_8h_ae43a4e9acd05bc65ac89474a6e1b3dd1}{prim} A\+T\+H\+\_\+strtok (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 188 of file mqtt.\+c.


\begin{DoxyCode}
188                   \{
189     \textcolor{keywordtype}{char} *ptr;
190     \textcolor{comment}{// Note not re-entrent}
191 
192     \hyperlink{atldef_8h_a5926d5feea48dfae9eef1fb4e2bdb5fa}{Sl}(2);
193     \hyperlink{atldef_8h_a7029a19beaca7bd3682408a1f5e7921d}{So}(1);
194 
195     ptr=strtok( (\textcolor{keywordtype}{char} *)\hyperlink{atldef_8h_a690d30e9ad3647835c243368b36d4c41}{S1}, (\textcolor{keywordtype}{char} *)\hyperlink{atldef_8h_a5cfab9793f7fd3ac4ab45eff41df9f37}{S0});
196     \hyperlink{atldef_8h_ad590ef6976fe2df5123108916638a353}{Pop};
197     \hyperlink{atldef_8h_a5cfab9793f7fd3ac4ab45eff41df9f37}{S0}=(\hyperlink{atldef_8h_aa59671df873ab6e8eef907b8b270c289}{stackitem})ptr;
198 \}
\end{DoxyCode}
\mbox{\Hypertarget{mqtt_8c_a9f1a552db4819a72a9bca888f1697920}\label{mqtt_8c_a9f1a552db4819a72a9bca888f1697920}} 
\index{mqtt.\+c@{mqtt.\+c}!message\+Callback@{message\+Callback}}
\index{message\+Callback@{message\+Callback}!mqtt.\+c@{mqtt.\+c}}
\subsubsection{\texorpdfstring{message\+Callback()}{messageCallback()}}
{\footnotesize\ttfamily void message\+Callback (\begin{DoxyParamCaption}\item[{struct mosquitto $\ast$}]{mosq,  }\item[{void $\ast$}]{obj,  }\item[{const struct mosquitto\+\_\+message $\ast$}]{message }\end{DoxyParamCaption})}



Definition at line 15 of file mqtt.\+c.


\begin{DoxyCode}
15                                                                                                 \{
16     \textcolor{keyword}{static} \textcolor{keywordtype}{char} *buffer;
17     \textcolor{keyword}{static} \textcolor{keywordtype}{bool} firstTime=\textcolor{keyword}{true};
18 
19 
20 \textcolor{comment}{//    printf("================\(\backslash\)n");}
21 \textcolor{comment}{//    atl\_eval(".s cr");}
22 \textcolor{comment}{//    Push=obj;}
23     printf (\textcolor{stringliteral}{"Rx topic  : %s\(\backslash\)n"}, (\textcolor{keywordtype}{char} *)message->topic);
24     printf (\textcolor{stringliteral}{"Rx payload: %s\(\backslash\)n"}, (\textcolor{keywordtype}{char} *)message->payload);
25     strcpy( ((\textcolor{keyword}{struct} \hyperlink{structcbMqttMessage}{cbMqttMessage} *)obj)->topic,(\textcolor{keywordtype}{char} *)message->topic);
26     strcpy( ((\textcolor{keyword}{struct} \hyperlink{structcbMqttMessage}{cbMqttMessage} *)obj)->payload,(\textcolor{keywordtype}{char} *)message->payload);
27 
28 \textcolor{comment}{//    Pop;}
29     firstTime=\textcolor{keyword}{false};
30     ((\textcolor{keyword}{struct }\hyperlink{structcbMqttMessage}{cbMqttMessage} *)obj)->msgFlag++ ;
31 \}
\end{DoxyCode}
Here is the caller graph for this function\+:
% FIG 1
\mbox{\Hypertarget{mqtt_8c_a675e260b04444d708c7d6673f2537bdc}\label{mqtt_8c_a675e260b04444d708c7d6673f2537bdc}} 
\index{mqtt.\+c@{mqtt.\+c}!mqtt\+Client@{mqtt\+Client}}
\index{mqtt\+Client@{mqtt\+Client}!mqtt.\+c@{mqtt.\+c}}
\subsubsection{\texorpdfstring{mqtt\+Client()}{mqttClient()}}
{\footnotesize\ttfamily \hyperlink{atldef_8h_ae43a4e9acd05bc65ac89474a6e1b3dd1}{prim} mqtt\+Client (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 142 of file mqtt.\+c.


\begin{DoxyCode}
142                   \{
143     \hyperlink{atldef_8h_a5926d5feea48dfae9eef1fb4e2bdb5fa}{Sl}(3);
144     \hyperlink{atldef_8h_a7029a19beaca7bd3682408a1f5e7921d}{So}(1);
145 
146     \textcolor{keyword}{struct }mosquitto *mosq ;
147     \textcolor{keywordtype}{char} *hostname;
148     \textcolor{keywordtype}{int} port;
149     \textcolor{keywordtype}{int} rc;
150 
151     port=\hyperlink{atldef_8h_a5cfab9793f7fd3ac4ab45eff41df9f37}{S0};
152     hostname=(\textcolor{keywordtype}{char} *)\hyperlink{atldef_8h_a690d30e9ad3647835c243368b36d4c41}{S1};
153     mosq=(\textcolor{keyword}{struct }mosquitto *)\hyperlink{atldef_8h_ad5e70dee3c36d645b0eb1743b8a7d2bf}{S2};
154 
155     rc = mosquitto\_connect(mosq, hostname, port, 10);
156     \hyperlink{atldef_8h_aa25c480f1a1ad10fdb756d8fd02a98ea}{Pop2};
157 
158     \textcolor{keywordflow}{if}( rc == MOSQ\_ERR\_SUCCESS) \{
159         mosquitto\_message\_callback\_set (mosq, \hyperlink{mqtt_8c_a9f1a552db4819a72a9bca888f1697920}{messageCallback});
160         \hyperlink{atldef_8h_a5cfab9793f7fd3ac4ab45eff41df9f37}{S0}=\textcolor{keyword}{false};
161     \} \textcolor{keywordflow}{else} \{
162         \hyperlink{atldef_8h_a5cfab9793f7fd3ac4ab45eff41df9f37}{S0}=\textcolor{keyword}{true};
163     \}
164 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 2
\mbox{\Hypertarget{mqtt_8c_a26922391bf46348795bbc947297072d0}\label{mqtt_8c_a26922391bf46348795bbc947297072d0}} 
\index{mqtt.\+c@{mqtt.\+c}!mqtt\+Get\+Payload@{mqtt\+Get\+Payload}}
\index{mqtt\+Get\+Payload@{mqtt\+Get\+Payload}!mqtt.\+c@{mqtt.\+c}}
\subsubsection{\texorpdfstring{mqtt\+Get\+Payload()}{mqttGetPayload()}}
{\footnotesize\ttfamily \hyperlink{atldef_8h_ae43a4e9acd05bc65ac89474a6e1b3dd1}{prim} mqtt\+Get\+Payload (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 33 of file mqtt.\+c.


\begin{DoxyCode}
33                       \{
34     \hyperlink{atldef_8h_a5926d5feea48dfae9eef1fb4e2bdb5fa}{Sl}(1);
35     \hyperlink{atldef_8h_a7029a19beaca7bd3682408a1f5e7921d}{So}(1);
36 
37     \textcolor{keyword}{struct }\hyperlink{structcbMqttMessage}{cbMqttMessage} *msg;
38 
39     msg=(\textcolor{keyword}{struct }\hyperlink{structcbMqttMessage}{cbMqttMessage} *)\hyperlink{atldef_8h_a5cfab9793f7fd3ac4ab45eff41df9f37}{S0};
40     \hyperlink{atldef_8h_a5cfab9793f7fd3ac4ab45eff41df9f37}{S0}=(\hyperlink{atldef_8h_aa59671df873ab6e8eef907b8b270c289}{stackitem})&(msg->\hyperlink{structcbMqttMessage_ad56d1fb53f810a0aaba33b0244474278}{payload});
41 
42 \}
\end{DoxyCode}
\mbox{\Hypertarget{mqtt_8c_af966a6e1a9761c42d43ff9b7920d9f99}\label{mqtt_8c_af966a6e1a9761c42d43ff9b7920d9f99}} 
\index{mqtt.\+c@{mqtt.\+c}!mqtt\+Get\+Topic@{mqtt\+Get\+Topic}}
\index{mqtt\+Get\+Topic@{mqtt\+Get\+Topic}!mqtt.\+c@{mqtt.\+c}}
\subsubsection{\texorpdfstring{mqtt\+Get\+Topic()}{mqttGetTopic()}}
{\footnotesize\ttfamily \hyperlink{atldef_8h_ae43a4e9acd05bc65ac89474a6e1b3dd1}{prim} mqtt\+Get\+Topic (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 44 of file mqtt.\+c.


\begin{DoxyCode}
44                     \{
45     \hyperlink{atldef_8h_a5926d5feea48dfae9eef1fb4e2bdb5fa}{Sl}(1);
46     \hyperlink{atldef_8h_a7029a19beaca7bd3682408a1f5e7921d}{So}(1);
47 
48     \textcolor{keyword}{struct }\hyperlink{structcbMqttMessage}{cbMqttMessage} *msg;
49 
50     msg=(\textcolor{keyword}{struct }\hyperlink{structcbMqttMessage}{cbMqttMessage} *)\hyperlink{atldef_8h_a5cfab9793f7fd3ac4ab45eff41df9f37}{S0};
51     \hyperlink{atldef_8h_a5cfab9793f7fd3ac4ab45eff41df9f37}{S0}=(\hyperlink{atldef_8h_aa59671df873ab6e8eef907b8b270c289}{stackitem})&(msg->\hyperlink{structcbMqttMessage_aa40e9bbbebf6f869102542591b82f0a2}{topic});
52 
53 \}
\end{DoxyCode}
\mbox{\Hypertarget{mqtt_8c_a6c2541df7ac1b8aff7bc5d065ce4a4c2}\label{mqtt_8c_a6c2541df7ac1b8aff7bc5d065ce4a4c2}} 
\index{mqtt.\+c@{mqtt.\+c}!mqtt\+Init@{mqtt\+Init}}
\index{mqtt\+Init@{mqtt\+Init}!mqtt.\+c@{mqtt.\+c}}
\subsubsection{\texorpdfstring{mqtt\+Init()}{mqttInit()}}
{\footnotesize\ttfamily \hyperlink{atldef_8h_ae43a4e9acd05bc65ac89474a6e1b3dd1}{prim} mqtt\+Init (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 55 of file mqtt.\+c.


\begin{DoxyCode}
55                 \{
56     \hyperlink{atldef_8h_a5926d5feea48dfae9eef1fb4e2bdb5fa}{Sl}(0);
57     \hyperlink{atldef_8h_a7029a19beaca7bd3682408a1f5e7921d}{So}(1);
58 
59     \textcolor{keywordtype}{int} rc;
60     \textcolor{keyword}{static} \textcolor{keywordtype}{bool} doneFlag=\textcolor{keyword}{false};
61 
62     \textcolor{keywordflow}{if} (doneFlag == \textcolor{keyword}{false}) \{
63         rc=mosquitto\_lib\_init();
64         memset(&\hyperlink{mqtt_8c_aab453916af71011060667ca0d1d4a925}{mqttMessage}, 0, (\textcolor{keywordtype}{size\_t})\textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} \hyperlink{structcbMqttMessage}{cbMqttMessage}));
65         doneFlag=\textcolor{keyword}{true};
66     \} \textcolor{keywordflow}{else} \{
67         rc=0;
68     \}
69     \hyperlink{atldef_8h_ae8ba31d36db877ff3c671f1a30eba8f9}{Push}=rc;
70 \textcolor{comment}{//    Push=(void *)&mqttMessage ;}
71 \}
\end{DoxyCode}
\mbox{\Hypertarget{mqtt_8c_a218421f46fb67e1d31b75d64628d2de1}\label{mqtt_8c_a218421f46fb67e1d31b75d64628d2de1}} 
\index{mqtt.\+c@{mqtt.\+c}!mqtt\+Load@{mqtt\+Load}}
\index{mqtt\+Load@{mqtt\+Load}!mqtt.\+c@{mqtt.\+c}}
\subsubsection{\texorpdfstring{mqtt\+Load()}{mqttLoad()}}
{\footnotesize\ttfamily void mqtt\+Load (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 214 of file mqtt.\+c.


\begin{DoxyCode}
214                 \{
215     \hyperlink{atlast_8c_a50ae1072d39e9d368db01db4e247c308}{atl\_primdef}( \hyperlink{mqtt_8c_a30719d976e1a3043cfe5e4aca1afe493}{mqtt} );
216 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 3
Here is the caller graph for this function\+:
% FIG 4
\mbox{\Hypertarget{mqtt_8c_a19c30617a7bdee479dcf35c1fb80182a}\label{mqtt_8c_a19c30617a7bdee479dcf35c1fb80182a}} 
\index{mqtt.\+c@{mqtt.\+c}!mqtt\+Loop@{mqtt\+Loop}}
\index{mqtt\+Loop@{mqtt\+Loop}!mqtt.\+c@{mqtt.\+c}}
\subsubsection{\texorpdfstring{mqtt\+Loop()}{mqttLoop()}}
{\footnotesize\ttfamily \hyperlink{atldef_8h_ae43a4e9acd05bc65ac89474a6e1b3dd1}{prim} mqtt\+Loop (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 167 of file mqtt.\+c.


\begin{DoxyCode}
167                 \{
168     \textcolor{keywordtype}{int} rc;
169     \textcolor{keyword}{struct }mosquitto *mosq ;
170     \textcolor{keywordtype}{int} timeout=0;
171 
172     timeout=\hyperlink{atldef_8h_a5cfab9793f7fd3ac4ab45eff41df9f37}{S0};
173     mosq=(\textcolor{keyword}{struct }mosquitto *)\hyperlink{atldef_8h_a690d30e9ad3647835c243368b36d4c41}{S1};
174 
175     \hyperlink{atldef_8h_aa25c480f1a1ad10fdb756d8fd02a98ea}{Pop2};
176 
177     rc = mosquitto\_loop(mosq,timeout,1);
178 
179     \textcolor{keywordflow}{if}( rc == MOSQ\_ERR\_SUCCESS) \{
180         \hyperlink{atldef_8h_ae8ba31d36db877ff3c671f1a30eba8f9}{Push}=\textcolor{keyword}{false};
181     \} \textcolor{keywordflow}{else} \{
182         \hyperlink{atldef_8h_ae8ba31d36db877ff3c671f1a30eba8f9}{Push}=\textcolor{keyword}{true};
183         perror(\textcolor{stringliteral}{"mqtt-loop"});
184     \}
185 
186 \}
\end{DoxyCode}
\mbox{\Hypertarget{mqtt_8c_a66f96d9b14508a077b7e11a80c959e0c}\label{mqtt_8c_a66f96d9b14508a077b7e11a80c959e0c}} 
\index{mqtt.\+c@{mqtt.\+c}!mqtt\+New@{mqtt\+New}}
\index{mqtt\+New@{mqtt\+New}!mqtt.\+c@{mqtt.\+c}}
\subsubsection{\texorpdfstring{mqtt\+New()}{mqttNew()}}
{\footnotesize\ttfamily \hyperlink{atldef_8h_ae43a4e9acd05bc65ac89474a6e1b3dd1}{prim} mqtt\+New (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 75 of file mqtt.\+c.


\begin{DoxyCode}
75                \{
76     \hyperlink{atldef_8h_a5926d5feea48dfae9eef1fb4e2bdb5fa}{Sl}(2);
77     \hyperlink{atldef_8h_a7029a19beaca7bd3682408a1f5e7921d}{So}(2);
78 
79     \textcolor{keyword}{struct }mosquitto *mosq = NULL;
80     \textcolor{keywordtype}{void} *obj=NULL;
81 
82     mosq=mosquitto\_new((\textcolor{keywordtype}{char} *)\hyperlink{atldef_8h_a690d30e9ad3647835c243368b36d4c41}{S1}, \textcolor{keyword}{true}, (\textcolor{keywordtype}{void} *)\hyperlink{atldef_8h_a5cfab9793f7fd3ac4ab45eff41df9f37}{S0});
83     \hyperlink{atldef_8h_ad590ef6976fe2df5123108916638a353}{Pop};
84 
85     \textcolor{keywordflow}{if}(!mosq) \{
86         \hyperlink{atldef_8h_a5cfab9793f7fd3ac4ab45eff41df9f37}{S0}=\textcolor{keyword}{true};
87     \} \textcolor{keywordflow}{else} \{
88         \hyperlink{atldef_8h_a5cfab9793f7fd3ac4ab45eff41df9f37}{S0}=(\hyperlink{atldef_8h_aa59671df873ab6e8eef907b8b270c289}{stackitem})mosq;
89         \hyperlink{atldef_8h_ae8ba31d36db877ff3c671f1a30eba8f9}{Push}=\textcolor{keyword}{false};
90     \}
91 
92 \}
\end{DoxyCode}
\mbox{\Hypertarget{mqtt_8c_ab7b1d9dea0a61f95880a572eb0192e1b}\label{mqtt_8c_ab7b1d9dea0a61f95880a572eb0192e1b}} 
\index{mqtt.\+c@{mqtt.\+c}!mqtt\+Publish@{mqtt\+Publish}}
\index{mqtt\+Publish@{mqtt\+Publish}!mqtt.\+c@{mqtt.\+c}}
\subsubsection{\texorpdfstring{mqtt\+Publish()}{mqttPublish()}}
{\footnotesize\ttfamily \hyperlink{atldef_8h_ae43a4e9acd05bc65ac89474a6e1b3dd1}{prim} mqtt\+Publish (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 95 of file mqtt.\+c.


\begin{DoxyCode}
95                    \{
96     \textcolor{keyword}{struct }mosquitto *mosq = NULL;
97     \textcolor{keywordtype}{char} *topic;
98     \textcolor{keywordtype}{char} *payload;
99 
100     \hyperlink{atldef_8h_a5926d5feea48dfae9eef1fb4e2bdb5fa}{Sl}(3);
101     \hyperlink{atldef_8h_a7029a19beaca7bd3682408a1f5e7921d}{So}(1);
102 
103     \textcolor{keywordtype}{int} rc=0;
104 
105     payload=(\textcolor{keywordtype}{char} *)\hyperlink{atldef_8h_a5cfab9793f7fd3ac4ab45eff41df9f37}{S0};
106     topic=(\textcolor{keywordtype}{char} *)\hyperlink{atldef_8h_a690d30e9ad3647835c243368b36d4c41}{S1};
107     mosq=(\textcolor{keyword}{struct }mosquitto *)\hyperlink{atldef_8h_ad5e70dee3c36d645b0eb1743b8a7d2bf}{S2};
108 
109     \hyperlink{atldef_8h_aa25c480f1a1ad10fdb756d8fd02a98ea}{Pop2};
110 
111     rc=mosquitto\_publish(mosq,NULL,topic,strlen(payload), payload, 0, \textcolor{keyword}{true});
112     \textcolor{keywordflow}{if}( rc == MOSQ\_ERR\_SUCCESS) \{
113         \hyperlink{atldef_8h_a5cfab9793f7fd3ac4ab45eff41df9f37}{S0}=\textcolor{keyword}{false};
114     \} \textcolor{keywordflow}{else} \{
115         \hyperlink{atldef_8h_a5cfab9793f7fd3ac4ab45eff41df9f37}{S0}=\textcolor{keyword}{true};
116     \}
117 
118 \}
\end{DoxyCode}
\mbox{\Hypertarget{mqtt_8c_a3ce78da827773da9859252588ef67fdc}\label{mqtt_8c_a3ce78da827773da9859252588ef67fdc}} 
\index{mqtt.\+c@{mqtt.\+c}!mqtt\+Subscribe@{mqtt\+Subscribe}}
\index{mqtt\+Subscribe@{mqtt\+Subscribe}!mqtt.\+c@{mqtt.\+c}}
\subsubsection{\texorpdfstring{mqtt\+Subscribe()}{mqttSubscribe()}}
{\footnotesize\ttfamily \hyperlink{atldef_8h_ae43a4e9acd05bc65ac89474a6e1b3dd1}{prim} mqtt\+Subscribe (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 120 of file mqtt.\+c.


\begin{DoxyCode}
120                      \{
121     \textcolor{keyword}{struct }mosquitto *mosq = NULL;
122     \textcolor{keywordtype}{char} *topic;
123 
124     \textcolor{keywordtype}{int} rc=0;
125 
126     topic=(\textcolor{keywordtype}{char} *)\hyperlink{atldef_8h_a5cfab9793f7fd3ac4ab45eff41df9f37}{S0};
127     mosq=(\textcolor{keyword}{struct }mosquitto *)\hyperlink{atldef_8h_a690d30e9ad3647835c243368b36d4c41}{S1};
128     \hyperlink{atldef_8h_ad590ef6976fe2df5123108916638a353}{Pop};
129 
130     rc = mosquitto\_subscribe(mosq,NULL, topic, 0);
131 
132     \textcolor{keywordflow}{if}( rc == MOSQ\_ERR\_SUCCESS) \{
133         \hyperlink{atldef_8h_a5cfab9793f7fd3ac4ab45eff41df9f37}{S0}=\textcolor{keyword}{false};
134     \} \textcolor{keywordflow}{else} \{
135         \hyperlink{atldef_8h_a5cfab9793f7fd3ac4ab45eff41df9f37}{S0}=\textcolor{keyword}{true};
136     \}
137 \}
\end{DoxyCode}


\subsection{Variable Documentation}
\mbox{\Hypertarget{mqtt_8c_a30719d976e1a3043cfe5e4aca1afe493}\label{mqtt_8c_a30719d976e1a3043cfe5e4aca1afe493}} 
\index{mqtt.\+c@{mqtt.\+c}!mqtt@{mqtt}}
\index{mqtt@{mqtt}!mqtt.\+c@{mqtt.\+c}}
\subsubsection{\texorpdfstring{mqtt}{mqtt}}
{\footnotesize\ttfamily struct \hyperlink{structprimfcn}{primfcn} mqtt\mbox{[}$\,$\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}

{\bfseries Initial value\+:}
\begin{DoxyCode}
= \{
    \{\textcolor{stringliteral}{"0STRTOK"}, \hyperlink{mqtt_8c_ad2c6942c9ff092f4eca183f78439fe68}{ATH\_strtok}\},
    \{\textcolor{stringliteral}{"0MQTT-INIT"}, \hyperlink{mqtt_8c_a6c2541df7ac1b8aff7bc5d065ce4a4c2}{mqttInit}\},
    \{\textcolor{stringliteral}{"0MQTT-NEW"}, \hyperlink{mqtt_8c_a66f96d9b14508a077b7e11a80c959e0c}{mqttNew}\},
    \{\textcolor{stringliteral}{"0MQTT-CLIENT"}, \hyperlink{mqtt_8c_a675e260b04444d708c7d6673f2537bdc}{mqttClient}\},
    \{\textcolor{stringliteral}{"0MQTT-PUB"}, \hyperlink{mqtt_8c_ab7b1d9dea0a61f95880a572eb0192e1b}{mqttPublish}\},
    \{\textcolor{stringliteral}{"0MQTT-SUB"}, \hyperlink{mqtt_8c_a3ce78da827773da9859252588ef67fdc}{mqttSubscribe}\},
    \{\textcolor{stringliteral}{"0MQTT-LOOP"}, \hyperlink{mqtt_8c_a19c30617a7bdee479dcf35c1fb80182a}{mqttLoop}\},
    \{\textcolor{stringliteral}{"0MQTT-TOPIC@"}, \hyperlink{mqtt_8c_af966a6e1a9761c42d43ff9b7920d9f99}{mqttGetTopic}\},
    \{\textcolor{stringliteral}{"0MQTT-PAYLOAD@"}, \hyperlink{mqtt_8c_a26922391bf46348795bbc947297072d0}{mqttGetPayload}\},
    \{NULL, (\hyperlink{atldef_8h_ad466be4642ab9d5805335482af705120}{codeptr}) 0\}
\}
\end{DoxyCode}


Definition at line 201 of file mqtt.\+c.

\mbox{\Hypertarget{mqtt_8c_aab453916af71011060667ca0d1d4a925}\label{mqtt_8c_aab453916af71011060667ca0d1d4a925}} 
\index{mqtt.\+c@{mqtt.\+c}!mqtt\+Message@{mqtt\+Message}}
\index{mqtt\+Message@{mqtt\+Message}!mqtt.\+c@{mqtt.\+c}}
\subsubsection{\texorpdfstring{mqtt\+Message}{mqttMessage}}
{\footnotesize\ttfamily struct \hyperlink{structcbMqttMessage}{cb\+Mqtt\+Message} mqtt\+Message}



Definition at line 13 of file mqtt.\+c.

